{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\user\\\\Desktop\\\\Programowanie\\\\MARKETPLACE-REDUX-HOOKS-CLASSES\\\\marketplace-redux-fe\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Programowanie\\\\MARKETPLACE-REDUX-HOOKS-CLASSES\\\\marketplace-redux-fe\\\\src\\\\components\\\\navbar\\\\navMain.jsx\";\nimport React, { useState, useEffect } from \"react\"; //redux\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { getItems } from \"../../actions/fetchActions\";\nimport { addProductToBasket } from \"../../actions/basketActions\"; //react bootstrap\n\nimport { Card, Button, Navbar, Nav, Badge, Modal, Form, FormControl } from \"react-bootstrap\"; //assets\n\nimport basketicon from \"./assets/basketicon.png\";\nimport searchicon from \"./assets/searchicon.png\"; //components\n\nimport Basket from \"./../Basket\";\n\nconst NavMain = ({\n  getItems,\n  addProductToBasket,\n  fetchReducer,\n  basketReducer\n}) => {\n  useEffect(() => {\n    getItems();\n  }, []); //modal search\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        show = _useState2[0],\n        setShow = _useState2[1];\n\n  const handleClose = () => {\n    setShow(false);\n    setProduct(\"\");\n  };\n\n  const handleShowSearch = () => {\n    setShow(true);\n  }; //search filter\n\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        product = _useState4[0],\n        setProduct = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        productResult = _useState6[0],\n        setProductResult = _useState6[1];\n\n  const searchHandler = e => {\n    setProduct(e.target.value);\n  };\n\n  useEffect(() => {\n    const result = fetchReducer.filter(item => item.title.toString().toLowerCase().includes(product.toLowerCase()) || item.id.toString().toLowerCase().includes(product.toLowerCase()));\n    if (product.length > 2) return setProductResult(result);\n    if (product.length <= 2) return setProductResult([]);\n  }, [product]); //shopping basket\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        showBasket = _useState8[0],\n        setShowBasket = _useState8[1];\n\n  const handleShowBasket = () => {\n    setShowBasket(true);\n  };\n\n  const addProduct = (product, basketReducer) => {\n    addProductToBasket(product, basketReducer);\n  };\n\n  const handleCloseBasket = () => {\n    setShowBasket(false);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    className: \"navbarMain\",\n    expand: \"lg\",\n    sticky: \"top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"LOGO\"), React.createElement(Navbar.Toggle, {\n    \"aria-controls\": \"basic-navbar-nav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(Navbar.Collapse, {\n    id: \"basic-navbar-nav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    className: \"mr-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"About\"), React.createElement(Nav.Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Contact\")), React.createElement(Nav, {\n    className: \"mr-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"p-0\",\n    variant: \"link\",\n    onClick: handleShowBasket,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: basketicon,\n    alt: \"basket img\",\n    height: \"20px\",\n    width: \"20px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(Badge, {\n    pill: true,\n    variant: \"success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, basketReducer.length))), React.createElement(Nav.Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"p-0\",\n    variant: \"link\",\n    onClick: handleShowSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: searchicon,\n    alt: \"searchicon img\",\n    height: \"20px\",\n    width: \"20px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })))))), React.createElement(Modal, {\n    className: \"modalSearch\",\n    show: show,\n    onHide: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(Modal.Body, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(Form, {\n    className: \"searchFormControl\",\n    inline: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    type: \"text\",\n    placeholder: \"Search\",\n    className: \" mr-sm-2\",\n    onChange: searchHandler,\n    value: product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, productResult.map(search => React.createElement(Card, {\n    className: \"cardSearchBar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    className: \"containerSearchBar pl-1 pr-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: search.url,\n    alt: \"image\",\n    width: \"60px\",\n    height: \"40\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"pl-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, search.title.substr(0, 12) + \"...\"), React.createElement(\"div\", {\n    className: \"pl-1 pr-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"$\", search.price.toFixed(2)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"-10%\"), React.createElement(\"button\", {\n    onClick: () => addProduct(search, basketReducer),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: basketicon,\n    alt: \"basket img\",\n    height: \"20px\",\n    width: \"20px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }))))))))), React.createElement(Modal, {\n    className: \"basketModal\",\n    show: showBasket,\n    onHide: handleCloseBasket,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(Modal.Body, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(Basket, {\n    basketProducts: basketReducer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }))));\n};\n\nNavMain.propTypes = {\n  getItems: PropTypes.func.isRequired,\n  addProductToBasket: PropTypes.func.isRequired,\n  fetchReducer: PropTypes.array.isRequired,\n  basketReducer: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  fetchReducer: state.fetchReducer.items,\n  basketReducer: state.basketReducer.basketProducts\n});\n\nexport default connect(mapStateToProps, {\n  getItems,\n  addProductToBasket\n})(NavMain);","map":{"version":3,"sources":["C:/Users/user/Desktop/Programowanie/MARKETPLACE-REDUX-HOOKS-CLASSES/marketplace-redux-fe/src/components/navbar/navMain.jsx"],"names":["React","useState","useEffect","PropTypes","connect","getItems","addProductToBasket","Card","Button","Navbar","Nav","Badge","Modal","Form","FormControl","basketicon","searchicon","Basket","NavMain","fetchReducer","basketReducer","show","setShow","handleClose","setProduct","handleShowSearch","product","productResult","setProductResult","searchHandler","e","target","value","result","filter","item","title","toString","toLowerCase","includes","id","length","showBasket","setShowBasket","handleShowBasket","addProduct","handleCloseBasket","map","search","url","substr","price","toFixed","propTypes","func","isRequired","array","mapStateToProps","state","items","basketProducts"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n//redux\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { getItems } from \"../../actions/fetchActions\";\r\nimport { addProductToBasket } from \"../../actions/basketActions\";\r\n//react bootstrap\r\nimport {\r\n  Card,\r\n  Button,\r\n  Navbar,\r\n  Nav,\r\n  Badge,\r\n  Modal,\r\n  Form,\r\n  FormControl\r\n} from \"react-bootstrap\";\r\n//assets\r\nimport basketicon from \"./assets/basketicon.png\";\r\nimport searchicon from \"./assets/searchicon.png\";\r\n//components\r\nimport Basket from \"./../Basket\";\r\n\r\nconst NavMain = ({\r\n  getItems,\r\n  addProductToBasket,\r\n  fetchReducer,\r\n  basketReducer\r\n}) => {\r\n  useEffect(() => {\r\n    getItems();\r\n  }, []);\r\n\r\n\r\n  //modal search\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    setProduct(\"\");\r\n  };\r\n  const handleShowSearch = () => {\r\n    setShow(true);\r\n  };\r\n\r\n  //search filter\r\n  const [product, setProduct] = useState(\"\");\r\n  const [productResult, setProductResult] = useState([]);\r\n\r\n  const searchHandler = e => {\r\n    setProduct(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const result = fetchReducer.filter(\r\n      item =>\r\n        item.title\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(product.toLowerCase()) ||\r\n        item.id\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(product.toLowerCase())\r\n    );\r\n    if (product.length > 2) return setProductResult(result);\r\n    if (product.length <= 2) return setProductResult([]);\r\n  }, [product]);\r\n\r\n  //shopping basket\r\n  const [showBasket, setShowBasket] = useState(false);\r\n\r\n  const handleShowBasket = () => {\r\n    setShowBasket(true);\r\n  };\r\n    \r\n  \r\n  const addProduct = (product,basketReducer) => {\r\n    addProductToBasket(product,basketReducer) \r\n    };\r\n   \r\n \r\n  const handleCloseBasket = () => {\r\n    setShowBasket(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* navbar */}\r\n      <Navbar className=\"navbarMain\" expand=\"lg\" sticky=\"top\">\r\n        <Navbar.Brand>LOGO</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <Nav.Link>About</Nav.Link>\r\n            <Nav.Link>Contact</Nav.Link>\r\n          </Nav>\r\n          {/* search icon + basket icon */}\r\n          <Nav className=\"mr-5\">\r\n            <Nav.Link>\r\n              <Button className=\"p-0\" variant=\"link\" onClick={handleShowBasket}>\r\n                <img\r\n                  src={basketicon}\r\n                  alt=\"basket img\"\r\n                  height=\"20px\"\r\n                  width=\"20px\"\r\n                ></img>\r\n                <Badge pill variant=\"success\">\r\n                {basketReducer.length}\r\n                </Badge>\r\n              </Button>\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <Button className=\"p-0\" variant=\"link\" onClick={handleShowSearch}>\r\n                <img\r\n                  src={searchicon}\r\n                  alt=\"searchicon img\"\r\n                  height=\"20px\"\r\n                  width=\"20px\"\r\n                ></img>\r\n              </Button>\r\n            </Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n\r\n      {/* modal search */}\r\n      <Modal className=\"modalSearch\" show={show} onHide={handleClose}>\r\n        <Modal.Body closeButton>\r\n          <Form className=\"searchFormControl\" inline>\r\n            <FormControl\r\n              type=\"text\"\r\n              placeholder=\"Search\"\r\n              className=\" mr-sm-2\"\r\n              onChange={searchHandler}\r\n              value={product}\r\n            />\r\n          </Form>\r\n          <div>\r\n            {productResult.map(search => (\r\n              <Card className=\"cardSearchBar\">\r\n                <Card.Body className=\"containerSearchBar pl-1 pr-1\">\r\n                  <div>\r\n                    <img\r\n                      src={search.url}\r\n                      alt=\"image\"\r\n                      width=\"60px\"\r\n                      height=\"40\"\r\n                    ></img>\r\n                  </div>\r\n\r\n                  <div className=\"pl-1\">\r\n                    {search.title.substr(0, 12) + \"...\"}\r\n                  </div>\r\n\r\n                  <div className=\"pl-1 pr-1\">${search.price.toFixed(2)}</div>\r\n\r\n                  <div>\r\n                    <button disabled>-10%</button>\r\n                    <button onClick={() => addProduct(search,basketReducer)}>\r\n                      <img\r\n                        src={basketicon}\r\n                        alt=\"basket img\"\r\n                        height=\"20px\"\r\n                        width=\"20px\"\r\n                      ></img>\r\n                    </button>\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* modal basket */}\r\n      <Modal\r\n        className=\"basketModal\"\r\n        show={showBasket}\r\n        onHide={handleCloseBasket}\r\n      >\r\n        <Modal.Body closeButton>\r\n          <Basket basketProducts={basketReducer} />\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nNavMain.propTypes = {\r\n  getItems: PropTypes.func.isRequired,\r\n  addProductToBasket: PropTypes.func.isRequired,\r\n  fetchReducer: PropTypes.array.isRequired,\r\n  basketReducer: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  fetchReducer: state.fetchReducer.items,\r\n  basketReducer: state.basketReducer.basketProducts\r\n});\r\n\r\nexport default connect(mapStateToProps, { getItems, addProductToBasket })(\r\n  NavMain\r\n);\r\n"]},"metadata":{},"sourceType":"module"}