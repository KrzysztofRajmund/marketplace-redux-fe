{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\user\\\\Desktop\\\\Programowanie\\\\MARKETPLACE-REDUX-HOOKS-CLASSES\\\\marketplace-redux-fe\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Programowanie\\\\MARKETPLACE-REDUX-HOOKS-CLASSES\\\\marketplace-redux-fe\\\\src\\\\components\\\\Basket.jsx\";\nimport React, { useState } from \"react\"; //redux\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addProductToBasket } from \"../actions/basketActions\"; //react bootstrap\n\nimport { Card } from \"react-bootstrap\"; //assets\n\nimport xButton from \"../../assets/xButton.png\";\n\nconst Basket = ({\n  basketReducer\n}) => {\n  const _useState = useState(basketReducer),\n        _useState2 = _slicedToArray(_useState, 2),\n        basketItems = _useState2[0],\n        setBasketItems = _useState2[1];\n\n  const removeHandler = (item, index) => {\n    //  const posItem = basketItems.indexOf(item);\n    //  setBasketItems(basketItems.splice(posItem, 1));\n    //  console.log(\"setBasketItems Splice\", basketItems)\n    setBasketItems(basketItems.filter(el => el.id !== item.id));\n  };\n\n  basketReducer.splice(0, basketReducer.length, ...basketItems);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    onClick: handleClose,\n    className: \"modalX\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: xButton,\n    width: \"30px\",\n    height: \"30px\",\n    alt: \"xButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  })), basketItems.length === 0 ? React.createElement(Card, {\n    className: \"cardBasket\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    className: \"containerSearchBar pl-1 pr-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Card is empty\"))) : basketItems.map((item, index) => React.createElement(React.Fragment, null, React.createElement(Card, {\n    className: \"cardBasket\",\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    className: \"containerSearchBar pl-1 pr-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: item.url,\n    alt: \"image\",\n    width: \"60px\",\n    height: \"auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"pl-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, item.count, \" x \", item.title), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"sumCardButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"$\", (item.price * item.count).toFixed(2)), React.createElement(\"button\", {\n    className: \"deleteCardButton\",\n    onClick: () => removeHandler(item, index),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Delete\")))))), React.createElement(Card, {\n    className: \"cardBasket\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    className: \"containerSearchBar pl-1 pr-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"$\", basketItems.reduce((a, b) => a + b.price * b.count, 0).toFixed(2))));\n};\n\nBasket.propTypes = {\n  basketReducer: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  basketReducer: state.basketReducer.basketProducts\n});\n\nexport default connect(mapStateToProps, {\n  addProductToBasket\n})(Basket);","map":{"version":3,"sources":["C:/Users/user/Desktop/Programowanie/MARKETPLACE-REDUX-HOOKS-CLASSES/marketplace-redux-fe/src/components/Basket.jsx"],"names":["React","useState","PropTypes","connect","addProductToBasket","Card","xButton","Basket","basketReducer","basketItems","setBasketItems","removeHandler","item","index","filter","el","id","splice","length","handleClose","map","url","count","title","price","toFixed","reduce","a","b","propTypes","array","isRequired","mapStateToProps","state","basketProducts"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n//redux\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { addProductToBasket } from \"../actions/basketActions\";\r\n//react bootstrap\r\nimport { Card } from \"react-bootstrap\";\r\n//assets\r\nimport xButton from \"../../assets/xButton.png\";\r\n\r\nconst Basket = ({ basketReducer }) => {\r\n\r\n\r\n  const [basketItems, setBasketItems] = useState(basketReducer);\r\n\r\n  const removeHandler = (item,index) => {\r\n   \r\n  //  const posItem = basketItems.indexOf(item);\r\n  //  setBasketItems(basketItems.splice(posItem, 1));\r\n  //  console.log(\"setBasketItems Splice\", basketItems)\r\n   setBasketItems(basketItems.filter(el => el.id !== item.id));\r\n  };\r\n  basketReducer.splice(0, basketReducer.length, ...basketItems);\r\n\r\n  return (\r\n    <>\r\n    <div onClick={handleClose} className=\"modalX\"><img src={xButton} width=\"30px\" height=\"30px\" alt=\"xButton\"/></div>\r\n      {basketItems.length === 0 ? (\r\n        <Card className=\"cardBasket\">\r\n          <Card.Body className=\"containerSearchBar pl-1 pr-1\">\r\n            <div>Card is empty</div>\r\n          </Card.Body>\r\n        </Card>\r\n      ) : (\r\n        basketItems.map((item, index) => (\r\n          <>\r\n            <Card className=\"cardBasket\" key={index}>\r\n              <Card.Body className=\"containerSearchBar pl-1 pr-1\">\r\n                <div>\r\n                  <img\r\n                    src={item.url}\r\n                    alt=\"image\"\r\n                    width=\"60px\"\r\n                    height=\"auto\"\r\n                  ></img>\r\n                </div>\r\n                <div className=\"pl-1\">{item.count} x {item.title}</div>\r\n                <div>\r\n                  <button className=\"sumCardButton\">${(item.price * item.count).toFixed(2)}</button>\r\n                  <button className=\"deleteCardButton\" onClick={() => removeHandler(item,index)}>Delete</button>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </>\r\n        ))\r\n      )}\r\n      <Card className=\"cardBasket\">\r\n        <Card.Body className=\"containerSearchBar pl-1 pr-1\">\r\n          ${basketItems.reduce((a, b) => a + b.price * b.count, 0).toFixed(2)}\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nBasket.propTypes = {\r\n  basketReducer: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  basketReducer: state.basketReducer.basketProducts\r\n});\r\n\r\nexport default connect(mapStateToProps, { addProductToBasket })(Basket);\r\n"]},"metadata":{},"sourceType":"module"}